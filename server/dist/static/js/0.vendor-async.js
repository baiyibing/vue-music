webpackJsonp([0],{EGCp:function(t,n,e){"use strict";var i=e("Xxa5"),a=e.n(i),s=e("exGp"),o=e.n(s),l=e("Dd8w"),r=e.n(l);n.a={data:function(){return{scroll:{},begin:0,hasMore:!0,noMorepullUpCount:0,leaveIsTop:!1,updatedPromise:null,isDelayToggle:!1,inited:!1,layoutColumnCount:1,y:0}},computed:r()({},Vuex.mapGetters(["miniPlayerHeight"]),{options:function(){return{startY:this.translateY,pullUpLoad:{txt:{noMore:"没有更多数据了",more:this.inited?"加载更多数据":""},threshold:-60},scrollbar:!0}},query:function(){var t=0;switch(!0){case this.total>=500:t=40;break;case this.total>200:t=30;break;default:t=20}return{singermid:this.$route.query.mid,begin:this.begin,num:this.layoutColumnCount*t}},total:function(){var t=this,n=this.navList.find(function(n){return n.name===t.$options.name});return n&&n.total||-1}}),props:{navList:{type:Array,default:[]},translateY:{type:Number,default:0},offsetToTop:{type:Boolean,default:!1},scrollY:{type:Number,default:0},pageState:{}},created:function(){var t=this;this.$emit("update:pageState",{isLoading:!0,isAbort:!1}),this.updatedPromise=this.getData(),this.updatedPromise.catch(function(n){var e="abort"==n;t.$emit("update:pageState",{isLoading:!e,isAbort:e})})},mounted:function(){var t=this;this.$nextTick(function(){t.scroll=t.$refs.scroll.scroll,t.$refs.scroll.disable()})},updated:function(){var t=this;this.$nextTick(function(){t.inited||(t.$emit("update:pageState",{isLoading:!1,isAbort:!1}),t.$refs.scroll.enable(),t.inited=!0)})},activated:function(){this.inited&&this.pageState.isLoading&&this.$emit("update:pageState",{isLoading:!1,isAbort:!1}),!this.inited&&this.$refs.scroll.disable(),!this.offsetToTop||this.backToCurY?this.$refs.scroll.scrollTo(0,this.translateY):this.offsetToTop&&this.scroll.y>this.translateY&&this.$refs.scroll.scrollTo(0,this.translateY),this.$refs&&this.$refs.scroll.refresh()},beforeRouteLeave:function(t,n,e){var i=this;return o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i.$refs.scroll.isPullUpLoad&&!i.isLoading||!i.isDelayToggle){t.next=4;break}return t.next=4,i.updatedPromise;case 4:i.$refs.scroll.scroll.stop(),i.backToCurY=i.isLoading,e();case 7:case"end":return t.stop()}},t,i)}))()},methods:r()({},Vuex.mapMutations({addList:"ADD_PLAY_LIST"}),{refreshPage:function(){this.getData()},onScroll:function(t){var n=t.y;this.$emit("update:scrollY",n)},onPullingUp:function(){var t=this;return o()(a.a.mark(function n(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.hasMore?(t.updatedPromise=t.getData(),t.updatedPromise.then(function(){}).catch(function(n){"abort"==n&&setTimeout(t.forceUpdated,500)})):(t.noMorepullUpCount++,setTimeout(t.forceUpdated,500),t.noMorepullUpCount>=4&&setTimeout(function(){t.$refs.scroll.scroll.closePullUp()},1e3));case 1:case"end":return n.stop()}},n,t)}))()},forceUpdated:function(){var t=this;return o()(a.a.mark(function n(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.checkMore(),t.$nextTick(function(){t.$refs.scroll.refresh(),t.$refs.scroll.forceUpdate(t.hasMore)});case 2:case"end":return n.stop()}},n,t)}))()},checkMore:function(){this.list.length>=this.total?this.hasMore=!1:navigator.onLine&&this.hasMore&&(this.begin+=this.query.num)}})}},IPE2:function(t,n,e){(t.exports=e("FZ+f")(!0)).push([t.i,'\n.fullBox[data-v-3bca375f] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flexYCenter[data-v-3bca375f] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.flexAround[data-v-3bca375f] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-justify-content: space-around;\n          justify-content: space-around;\n}\n.flexBetween[data-v-3bca375f] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n}\n.flexXCenter[data-v-3bca375f] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.flexCenter[data-v-3bca375f] {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.mint-msgbox[data-v-3bca375f] {\n  z-index: 300;\n}\n.mint-msgbox-btns button[data-v-3bca375f] {\n  font-size: 12Px;\n  /* no*/\n}\n[data-dpr="2"] .mint-msgbox-btns button[data-v-3bca375f] {\n  font-size: 24Px;\n  /* no  */\n}\n[data-dpr="3"] .mint-msgbox-btns button[data-v-3bca375f] {\n  font-size: 36Px;\n  /* no  */\n}\n.list[data-v-3bca375f] {\n  padding: 0.37333rem;\n}\n.list .list-wrapper.twoColumn[data-v-3bca375f] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n          flex-wrap: wrap;\n}\n.list-item.twoColumn[data-v-3bca375f] {\n  width: 50%;\n  margin-bottom: 0.37333rem;\n  display: block;\n}\n.list-item.twoColumn[data-v-3bca375f]:nth-child(odd) {\n  padding-right: 0.26667rem;\n}\n.list-item[data-v-3bca375f]:not(.twoColumn) {\n  margin-bottom: 0.4rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.list-item .twoColumn .title[data-v-3bca375f] {\n  margin: 0.37333rem 0;\n}\n.list-item .pic-wrap[data-v-3bca375f]:not(.twoColumn) {\n  margin-right: 0.53333rem;\n  width: 5.86667rem;\n}\n.list-item .pic-wrap .pic[data-v-3bca375f] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  object-position: center;\n}\n.list-item .text-wrap[data-v-3bca375f] {\n  min-width: 0;\n}\n.list-item .text-wrap[data-v-3bca375f]:not(.twoColumn) {\n  width: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  background: #fff;\n  padding: 0.53333rem 0.18667rem;\n  border-radius: 0.13333rem;\n}\n.list-item .text-wrap:not(.twoColumn) .title[data-v-3bca375f] {\n  margin: 0;\n  margin-left: 0.53333rem;\n}\n.list-item .text-wrap:not(.twoColumn) .desc[data-v-3bca375f] {\n  margin-left: auto;\n  margin-right: 0.53333rem;\n}\n.list-item .text-wrap.isVertical[data-v-3bca375f] {\n  display: block;\n  margin-bottom: 0;\n  background: transparent;\n}\n.list-item .text-wrap.isVertical .title[data-v-3bca375f] {\n  margin-bottom: 0.53333rem;\n  margin-left: 0;\n}\n',"",{version:3,sources:["/Users/konglingwen/Desktop/my-repositories/vue-music/src/pages/singerDetail/listView-tpl.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,QAAQ;EACR,SAAS;EACT,UAAU;EACV,OAAO;CACR;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,0BAA0B;EAC1B,4BAA4B;UACpB,oBAAoB;CAC7B;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,sCAAsC;UAC9B,8BAA8B;CACvC;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,0BAA0B;EAC1B,uCAAuC;UAC/B,+BAA+B;CACxC;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,yBAAyB;EACzB,gCAAgC;UACxB,wBAAwB;CACjC;AACD;EACE,0BAA0B;EAC1B,4BAA4B;UACpB,oBAAoB;EAC5B,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,yBAAyB;EACzB,gCAAgC;UACxB,wBAAwB;CACjC;AACD;EACE,aAAa;CACd;AACD;EACE,gBAAgB;EAChB,OAAO;CACR;AACD;EACE,gBAAgB;EAChB,SAAS;CACV;AACD;EACE,gBAAgB;EAChB,SAAS;CACV;AACD;EACE,oBAAoB;CACrB;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,wBAAwB;UAChB,gBAAgB;CACzB;AACD;EACE,WAAW;EACX,0BAA0B;EAC1B,eAAe;CAChB;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,sBAAsB;EACtB,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,0BAA0B;EAC1B,4BAA4B;UACpB,oBAAoB;CAC7B;AACD;EACE,qBAAqB;CACtB;AACD;EACE,yBAAyB;EACzB,kBAAkB;CACnB;AACD;EACE,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,wBAAwB;CACzB;AACD;EACE,aAAa;CACd;AACD;EACE,YAAY;EACZ,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,iBAAiB;EACjB,+BAA+B;EAC/B,0BAA0B;CAC3B;AACD;EACE,UAAU;EACV,wBAAwB;CACzB;AACD;EACE,kBAAkB;EAClB,yBAAyB;CAC1B;AACD;EACE,eAAe;EACf,iBAAiB;EACjB,wBAAwB;CACzB;AACD;EACE,0BAA0B;EAC1B,eAAe;CAChB",file:"listView-tpl.vue",sourcesContent:['\n.fullBox[data-v-3bca375f] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flexYCenter[data-v-3bca375f] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.flexAround[data-v-3bca375f] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-justify-content: space-around;\n          justify-content: space-around;\n}\n.flexBetween[data-v-3bca375f] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n}\n.flexXCenter[data-v-3bca375f] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.flexCenter[data-v-3bca375f] {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.mint-msgbox[data-v-3bca375f] {\n  z-index: 300;\n}\n.mint-msgbox-btns button[data-v-3bca375f] {\n  font-size: 12Px;\n  /* no*/\n}\n[data-dpr="2"] .mint-msgbox-btns button[data-v-3bca375f] {\n  font-size: 24Px;\n  /* no  */\n}\n[data-dpr="3"] .mint-msgbox-btns button[data-v-3bca375f] {\n  font-size: 36Px;\n  /* no  */\n}\n.list[data-v-3bca375f] {\n  padding: 0.37333rem;\n}\n.list .list-wrapper.twoColumn[data-v-3bca375f] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n          flex-wrap: wrap;\n}\n.list-item.twoColumn[data-v-3bca375f] {\n  width: 50%;\n  margin-bottom: 0.37333rem;\n  display: block;\n}\n.list-item.twoColumn[data-v-3bca375f]:nth-child(odd) {\n  padding-right: 0.26667rem;\n}\n.list-item[data-v-3bca375f]:not(.twoColumn) {\n  margin-bottom: 0.4rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.list-item .twoColumn .title[data-v-3bca375f] {\n  margin: 0.37333rem 0;\n}\n.list-item .pic-wrap[data-v-3bca375f]:not(.twoColumn) {\n  margin-right: 0.53333rem;\n  width: 5.86667rem;\n}\n.list-item .pic-wrap .pic[data-v-3bca375f] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  object-position: center;\n}\n.list-item .text-wrap[data-v-3bca375f] {\n  min-width: 0;\n}\n.list-item .text-wrap[data-v-3bca375f]:not(.twoColumn) {\n  width: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  background: #fff;\n  padding: 0.53333rem 0.18667rem;\n  border-radius: 0.13333rem;\n}\n.list-item .text-wrap:not(.twoColumn) .title[data-v-3bca375f] {\n  margin: 0;\n  margin-left: 0.53333rem;\n}\n.list-item .text-wrap:not(.twoColumn) .desc[data-v-3bca375f] {\n  margin-left: auto;\n  margin-right: 0.53333rem;\n}\n.list-item .text-wrap.isVertical[data-v-3bca375f] {\n  display: block;\n  margin-bottom: 0;\n  background: transparent;\n}\n.list-item .text-wrap.isVertical .title[data-v-3bca375f] {\n  margin-bottom: 0.53333rem;\n  margin-left: 0;\n}\n'],sourceRoot:""}])},f3Ne:function(t,n,e){"use strict";var i=e("Dd8w"),a=e.n(i),s={data:function(){return{}},props:{hasIndex:{type:Boolean,default:!1},name:{type:String,default:"list-view"},list:{type:Array,default:function(){return[]}},twoColumn:{type:Boolean,default:!1},imgHeight:{type:Number,default:100},hasImg:{type:Boolean,default:!1},keyInfo:{type:Object,default:function(){return{}}}},computed:{picWrapStyle:function(){return{height:this.imgHeight*this.__DPR+"px"}},bind_key:function(){return a()({title:"title",desc:"desc",picUrl:"picUrl"},this.keyInfo)}},created:function(){this.$options.name=this.name},methods:{selectPlay:function(t,n){switch(this.name){case"music-list":this.$emit("music-selected",t,n);break;case"album-list":this.$emit("album-selected",t);break;case"mv-list":this.$emit("mvSelected",t)}}}},o={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"list"},[e("ul",{class:["list-wrapper",{twoColumn:t.twoColumn}]},t._l(t.list,function(n,i){return e("li",{key:i,class:["list-item",{twoColumn:t.twoColumn}],on:{click:function(e){return t.selectPlay(n,i)}}},[t.hasImg?e("div",{class:["pic-wrap",{twoColumn:t.twoColumn}],style:t.picWrapStyle},[t._t("img",[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n[t.bind_key.picUrl],expression:"item[bind_key.picUrl]"}],staticClass:"pic"})])],2):t._e(),t._v(" "),e("div",{class:["text-wrap",{isVertical:t.hasImg,twoColumn:t.twoColumn}]},[t.hasIndex?e("p",{domProps:{textContent:t._s(i+1)}}):t._e(),t._v(" "),e("h2",{staticClass:"title ellipsis"},[t._v(t._s(n[t.bind_key.title]))]),t._v(" "),e("p",{staticClass:"desc ellipsis"},[t._v(t._s(n[t.bind_key.desc]))])])])}),0)])},staticRenderFns:[]};var l=e("VU/8")(s,o,!1,function(t){e("nMgd")},"data-v-3bca375f",null);n.a=l.exports},nMgd:function(t,n,e){var i=e("IPE2");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("6ccbe526",i,!0,{})}});
//# sourceMappingURL=0.vendor-async.js.map