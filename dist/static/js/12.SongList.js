webpackJsonp([12],{SsJm:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("Dd8w"),i=e.n(a),s=e("Xxa5"),o=e.n(s),A=e("exGp"),r=e.n(A),c={name:"songList",data:function(){return{loading:!1,type:this.$route.query.type,isLoading:!0,loadEnd:!1,total_song_num:0,song_begin:0,song_num:20,cd:{},musicList:[],scrollY:0,picHeight:0,reserved:0}},props:["mid"],created:function(){this.cd={},this.getSongList()},mounted:function(){var n=this;this.reserved=$(".mt-header").height(),this.$nextTick(function(){n.picHeight=$(".themePic").height(),$(".scrollWrap").css("top",n.picHeight),n.minTranslateY=n.reserved-n.picHeight})},methods:{onScroll:function(n){n.x;var t=n.y;this.scrollY=t;var e=Math.abs(t/this.picHeight),a=Math.max(this.minTranslateY,t),i=0,s=Math.min(30,30*e);t>0?(i=1+e,$(".themePic").css({transform:"scale("+i+")",zIndex:10})):("visible"!=$(".scrollWrap").css("overflow")&&$(".scrollWrap").css("overflow","visible"),$(".bg-layer").css({"-webkit-backdrop-filter":"blur("+s+"px)"})),$(".layer").css("transform","translate3d(0,"+a+"px,0)"),t<this.minTranslateY?$(".themePic").css({"z-index":10,height:this.reserved}):t<0&&t>this.minTranslateY&&$(".themePic").css({"z-index":0,height:this.picHeight})},onPullingUp:function(){this.song_begin+=this.song_num,this.musicList.length,this.total_song_num,this.getSongList()},initCd:function(n){this.$set(this.cd,"dissname",n.dissname),this.$set(this.cd,"logo",n.logo)},getMusicList:function(n){var t=this;$.each(n,function(n,e){t.musicList.push(new t.__Song(e))})},getSongUrl:function(n){var t=this;return r()(o.a.mark(function e(){var a,i,s,A;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.map(function(n){return n.songmid}).join(","),e.next=3,t.__getJson("/getMusicPlayData",{mid:a});case 3:i=e.sent,s=i.code,A=i.req,s==t.__QERR_OK&&A.code==t.__QERR_OK&&A.data.midurlinfo.forEach(function(e,a){n[a].url=""+t.SONG_SOURCE+e.purl,n[a].purl=e.purl});case 7:case"end":return e.stop()}},e,t)}))()},getSongList:function(){var n=this;return r()(o.a.mark(function t(){var e,a,s,A;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={begin:n.song_begin,num:n.song_num},n.loading=!0,a="album"===n.type?n.__getJson("/getAlbumSongList",i()({},e,{albumMid:n.$route.query.mid,albumID:n.$route.query.id})):n.__getJson(n.__SONG_LIST,i()({disstid:n.$route.query.dissid},e)),s=[],A=void 0,t.next=6,a.then(function(t){A=t.code,s="album"===n.type?t.albumSonglist.data.songList.map(function(n){return n.songInfo.songmid=n.songInfo.mid,n.songInfo.songid=n.songInfo.id,n.songInfo.songname=n.songInfo.name,n.songInfo.albumid=n.songInfo.album.id,n.songInfo.albummid=n.songInfo.album.mid,n.songInfo}):t.cdlist[0].songlist}).catch(console.error);case 6:return t.next=8,n.getSongUrl(s).catch(console.error);case 8:n.loading=!1,A===n.__QERR_OK&&(console.log(s,A),n.musicList=s.filter(function(n){return n.purl}).map(function(t){return new n.__Song(n.__pick__(t,["songid","songmid","albummid","albumid","singer","songname","url"]))}));case 10:case"end":return t.stop()}},t,n)}))()}}},l={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[n.loading?e("my-loading"):n._e(),n._v(" "),n.loading||0!==n.musicList.length?n._e():e("div",{staticClass:"no-data-wrap"},[e("span",{staticClass:"text"},[n._v("暂无数据")])]),n._v(" "),e("div",[e("mt-header",{staticClass:"mt-header",attrs:{fixed:"",title:n.cd.dissname}},[e("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(t){n.$router.back()}},slot:"left"},[n._v("返回")]),n._v(" "),e("mt-button",{attrs:{slot:"right",icon:"more"},slot:"right"})],1),n._v(" "),e("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:n.$route.query.imgurl,expression:"$route.query.imgurl",arg:"background-image"}],staticClass:"themePic"},[e("div",{directives:[{name:"show",rawName:"v-show",value:Math.abs(n.scrollY)<n.picHeight-n.reserved,expression:"Math.abs(scrollY)<picHeight-reserved"}],staticClass:"playBtn"},[e("mt-button",{staticClass:"mt-button-play",attrs:{light:!0,primary:!0,outline:!0}},[n._v("播放全部")])],1),n._v(" "),e("div",{staticClass:"bg-layer"})]),n._v(" "),e("div",{staticClass:"layer"}),n._v(" "),e("cube-scroll",{ref:"scroll",staticClass:"scrollWrap",attrs:{data:n.musicList,"scroll-events":["scroll"],probeType:2},on:{scroll:n.onScroll}},[n.musicList.length?e("music-list",{attrs:{marginTop:20,list:n.musicList}}):n._e()],1)],1)],1)},staticRenderFns:[]};var d=e("VU/8")(c,l,!1,function(n){e("jRI6")},"data-v-088be6ac",null);t.default=d.exports},XYPJ:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,'\n.fullBox[data-v-088be6ac] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flexYCenter[data-v-088be6ac] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.flexAround[data-v-088be6ac] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-justify-content: space-around;\n          justify-content: space-around;\n}\n.flexBetween[data-v-088be6ac] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n}\n.flexXCenter[data-v-088be6ac] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.flexCenter[data-v-088be6ac] {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.mint-msgbox[data-v-088be6ac] {\n  z-index: 300;\n}\n.mint-msgbox-btns button[data-v-088be6ac] {\n  font-size: 12Px;\n  /* no*/\n}\n[data-dpr="2"] .mint-msgbox-btns button[data-v-088be6ac] {\n  font-size: 24Px;\n  /* no  */\n}\n[data-dpr="3"] .mint-msgbox-btns button[data-v-088be6ac] {\n  font-size: 36Px;\n  /* no  */\n}\n.my-loading[data-v-088be6ac] {\n  top: 70%;\n}\n.songList-page[data-v-088be6ac] {\n  z-index: 50;\n}\n.mt-header[data-v-088be6ac] {\n  z-index: 20;\n  background: transparent;\n}\n.themePic[data-v-088be6ac] {\n  text-align: center;\n  height: 39vh;\n  -webkit-transform-origin: top;\n          transform-origin: top;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: top center;\n  position: relative;\n}\n.themePic > .playBtn[data-v-088be6ac] {\n  position: absolute;\n  left: 50%;\n  bottom: 0.53333rem;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n}\n.themePic .playBtn[data-v-088be6ac] {\n  width: 60%;\n}\n.themePic .playBtn .cube-button-play[data-v-088be6ac] {\n  border-radius: 0.53333rem;\n  border: solid orange;\n  outline: none;\n}\n.themePic .bg-layer[data-v-088be6ac] {\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.3);\n  position: absolute;\n}\n.layer[data-v-088be6ac] {\n  height: 26.66667rem;\n  background: #eee;\n  position: absolute;\n  width: 100%;\n  z-index: 1;\n}\n.scrollWrap[data-v-088be6ac] {\n  height: 60vh;\n  position: absolute;\n  background: #eee;\n  width: 100%;\n}\n.scrollWrap .loadTip[data-v-088be6ac] {\n  text-align: center;\n}\n.no-data-wrap[data-v-088be6ac] {\n  position: fixed;\n  top: 70%;\n  text-align: center;\n  width: 100%;\n  z-index: 100;\n  font-size: 12Px;\n  /* no*/\n}\n[data-dpr="2"] .no-data-wrap[data-v-088be6ac] {\n  font-size: 24Px;\n  /* no  */\n}\n[data-dpr="3"] .no-data-wrap[data-v-088be6ac] {\n  font-size: 36Px;\n  /* no  */\n}\n',"",{version:3,sources:["I:/vue-music/src/pages/songList/index.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,QAAQ;EACR,SAAS;EACT,UAAU;EACV,OAAO;CACR;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,0BAA0B;EAC1B,4BAA4B;UACpB,oBAAoB;CAC7B;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,sCAAsC;UAC9B,8BAA8B;CACvC;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,0BAA0B;EAC1B,uCAAuC;UAC/B,+BAA+B;CACxC;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,yBAAyB;EACzB,gCAAgC;UACxB,wBAAwB;CACjC;AACD;EACE,0BAA0B;EAC1B,4BAA4B;UACpB,oBAAoB;EAC5B,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,yBAAyB;EACzB,gCAAgC;UACxB,wBAAwB;CACjC;AACD;EACE,aAAa;CACd;AACD;EACE,gBAAgB;EAChB,OAAO;CACR;AACD;EACE,gBAAgB;EAChB,SAAS;CACV;AACD;EACE,gBAAgB;EAChB,SAAS;CACV;AACD;EACE,SAAS;CACV;AACD;EACE,YAAY;CACb;AACD;EACE,YAAY;EACZ,wBAAwB;CACzB;AACD;EACE,mBAAmB;EACnB,aAAa;EACb,8BAA8B;UACtB,sBAAsB;EAC9B,6BAA6B;EAC7B,uBAAuB;EACvB,gCAAgC;EAChC,mBAAmB;CACpB;AACD;EACE,mBAAmB;EACnB,UAAU;EACV,mBAAmB;EACnB,oCAAoC;UAC5B,4BAA4B;CACrC;AACD;EACE,WAAW;CACZ;AACD;EACE,0BAA0B;EAC1B,qBAAqB;EACrB,cAAc;CACf;AACD;EACE,YAAY;EACZ,aAAa;EACb,+BAA+B;EAC/B,mBAAmB;CACpB;AACD;EACE,oBAAoB;EACpB,iBAAiB;EACjB,mBAAmB;EACnB,YAAY;EACZ,WAAW;CACZ;AACD;EACE,aAAa;EACb,mBAAmB;EACnB,iBAAiB;EACjB,YAAY;CACb;AACD;EACE,mBAAmB;CACpB;AACD;EACE,gBAAgB;EAChB,SAAS;EACT,mBAAmB;EACnB,YAAY;EACZ,aAAa;EACb,gBAAgB;EAChB,OAAO;CACR;AACD;EACE,gBAAgB;EAChB,SAAS;CACV;AACD;EACE,gBAAgB;EAChB,SAAS;CACV",file:"index.vue",sourcesContent:['\n.fullBox[data-v-088be6ac] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flexYCenter[data-v-088be6ac] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.flexAround[data-v-088be6ac] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-justify-content: space-around;\n          justify-content: space-around;\n}\n.flexBetween[data-v-088be6ac] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n}\n.flexXCenter[data-v-088be6ac] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.flexCenter[data-v-088be6ac] {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.mint-msgbox[data-v-088be6ac] {\n  z-index: 300;\n}\n.mint-msgbox-btns button[data-v-088be6ac] {\n  font-size: 12Px;\n  /* no*/\n}\n[data-dpr="2"] .mint-msgbox-btns button[data-v-088be6ac] {\n  font-size: 24Px;\n  /* no  */\n}\n[data-dpr="3"] .mint-msgbox-btns button[data-v-088be6ac] {\n  font-size: 36Px;\n  /* no  */\n}\n.my-loading[data-v-088be6ac] {\n  top: 70%;\n}\n.songList-page[data-v-088be6ac] {\n  z-index: 50;\n}\n.mt-header[data-v-088be6ac] {\n  z-index: 20;\n  background: transparent;\n}\n.themePic[data-v-088be6ac] {\n  text-align: center;\n  height: 39vh;\n  -webkit-transform-origin: top;\n          transform-origin: top;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: top center;\n  position: relative;\n}\n.themePic > .playBtn[data-v-088be6ac] {\n  position: absolute;\n  left: 50%;\n  bottom: 0.53333rem;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n}\n.themePic .playBtn[data-v-088be6ac] {\n  width: 60%;\n}\n.themePic .playBtn .cube-button-play[data-v-088be6ac] {\n  border-radius: 0.53333rem;\n  border: solid orange;\n  outline: none;\n}\n.themePic .bg-layer[data-v-088be6ac] {\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.3);\n  position: absolute;\n}\n.layer[data-v-088be6ac] {\n  height: 26.66667rem;\n  background: #eee;\n  position: absolute;\n  width: 100%;\n  z-index: 1;\n}\n.scrollWrap[data-v-088be6ac] {\n  height: 60vh;\n  position: absolute;\n  background: #eee;\n  width: 100%;\n}\n.scrollWrap .loadTip[data-v-088be6ac] {\n  text-align: center;\n}\n.no-data-wrap[data-v-088be6ac] {\n  position: fixed;\n  top: 70%;\n  text-align: center;\n  width: 100%;\n  z-index: 100;\n  font-size: 12Px;\n  /* no*/\n}\n[data-dpr="2"] .no-data-wrap[data-v-088be6ac] {\n  font-size: 24Px;\n  /* no  */\n}\n[data-dpr="3"] .no-data-wrap[data-v-088be6ac] {\n  font-size: 36Px;\n  /* no  */\n}\n'],sourceRoot:""}])},jRI6:function(n,t,e){var a=e("XYPJ");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("1c747adb",a,!0,{})}});
//# sourceMappingURL=12.SongList.js.map