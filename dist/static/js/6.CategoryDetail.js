webpackJsonp([6],{"+1GC":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("Xxa5"),i=e.n(a),o=e("exGp"),A=e.n(o),s=[{text:"默认",id:0,handler:function(){this.detailList=this.sequenceList.slice()}},{text:"最热",id:1,handler:function(){this.detailList.sort(function(n,t){return Number(t.playCount)-Number(n.playCount)})}},{text:"最新",id:2,handler:function(){this.detailList.sort(function(n,t){var e=n.createTime.split("-").join(""),a=t.createTime.split("-").join("");return Number(a)-Number(e)})}}],r={name:"categoryDetail",data:function(){return{detailList:[],sorts:s,sortId:0,sequenceList:[],pagination:{sin:0,ein:20}}},created:function(){this.getSongSheetList()},deactivated:function(){this.scrollTop=$(".panel-wrap").scrollTop()},beforeRouteEnter:function(n,t,e){n.meta.index>t.meta.index?e():e(function(n){void 0!==n.scrollTop&&$(".panel-wrap")[0].scrollTo(0,n.scrollTop)})},mounted:function(){var n=this;return A()(i.a.mark(function t(){var e,a,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=n.$refs.container.getBoundingClientRect().top,a=window.innerHeight-e,$(".panel-wrap").css({height:a}),o=30,n.$refs.container.onscroll=function(){this.scrollTop+this.clientHeight+o>this.scrollHeight&&console.log("scroll to bottom")};case 5:case"end":return t.stop()}},t,n)}))()},methods:{format:function(n){return this.__round__(n/1e4,1)+"万"},toDetail:function(n){this.$router.push({name:"songList",query:n})},sort:function(n){var t=n.handler,e=n.id;t.call(this),this.sortId=e},getSongSheetList:function(){var n=this;return A()(i.a.mark(function t(){var e,a,o,A,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.$route.query.categoryId,a={categoryId:e,sin:n.pagination.sin,ein:n.pagination.ein},t.next=4,n.__getJson(n.__SONG_SHEET_LIST,a);case 4:o=t.sent,A=o.code,s=o.data,0==A&&(n.sequenceList=s.list,n.detailList=s.list.map(function(n){return n.id=n.dissid,n}));case 8:case"end":return t.stop()}},t,n)}))()}}},c={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[0===n.detailList.length?e("my-loading"):n._e(),n._v(" "),e("x-header",{ref:"header",staticClass:"header-navbar"},[n._v(n._s(n.$route.query.categoryName))]),n._v(" "),e("div",{staticClass:"sort-wrap flex"},n._l(n.sorts,function(t,a){return e("div",{key:a,class:["sort-item",{current:t.id===n.sortId}],on:{click:function(e){n.sort(t)}}},[n._v(n._s(t.text))])})),n._v(" "),e("div",{ref:"container",staticClass:"native-vertical-scroll panel-wrap",style:{paddingBottom:n.miniPlayerHeight+"px"}},[e("transition-group",{staticClass:"panel-content",attrs:{tag:"div"}},n._l(n.detailList,function(t){return e("div",{key:t.dissid,staticClass:"panel",on:{click:function(e){n.toDetail(t)}}},[e("div",{staticClass:"picBox"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgurl,expression:"item.imgurl"}],key:t.id,staticClass:"layPic"}),n._v(" "),e("p",{staticClass:"playCount"},[n._v(n._s(n.format(t.listennum)))]),n._v(" "),e("p",{staticClass:"createTime"},[n._v(n._s(t.createTime))])]),n._v(" "),e("div",{staticClass:"desc"},[e("p",{staticClass:"name ellipsis"},[n._v(n._s(t.dissname))]),n._v(" "),e("p",{staticClass:"creator ellipsis"},[n._v(n._s(t.creator.name))])])])}))],1)],1)},staticRenderFns:[]};var l=e("VU/8")(r,c,!1,function(n){e("aGuU")},"data-v-ef1b19c2",null);t.default=l.exports},"6ivQ":function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,'\n.fullBox[data-v-ef1b19c2] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flexYCenter[data-v-ef1b19c2] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.flexAround[data-v-ef1b19c2] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-justify-content: space-around;\n          justify-content: space-around;\n}\n.flexBetween[data-v-ef1b19c2] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n}\n.flexXCenter[data-v-ef1b19c2] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.flexCenter[data-v-ef1b19c2] {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.mint-msgbox[data-v-ef1b19c2] {\n  z-index: 300;\n}\n.mint-msgbox-btns button[data-v-ef1b19c2] {\n  font-size: 12Px;\n  /* no*/\n}\n[data-dpr="2"] .mint-msgbox-btns button[data-v-ef1b19c2] {\n  font-size: 24Px;\n  /* no  */\n}\n[data-dpr="3"] .mint-msgbox-btns button[data-v-ef1b19c2] {\n  font-size: 36Px;\n  /* no  */\n}\n.v-move[data-v-ef1b19c2] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.my-loading[data-v-ef1b19c2] {\n  top: 50%;\n}\n.categoryDetail-page[data-v-ef1b19c2] {\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: pink;\n  overflow: auto;\n  padding-top: 1.33333rem;\n}\n.header-navbar[data-v-ef1b19c2] {\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 10;\n}\n.sort-wrap[data-v-ef1b19c2] {\n  margin: 0.53333rem;\n}\n.sort-wrap .sort-item[data-v-ef1b19c2] {\n  margin-right: 0.37333rem;\n}\n.sort-wrap .sort-item.current[data-v-ef1b19c2] {\n  color: red;\n}\n.panel-wrap .panel-content[data-v-ef1b19c2] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n          flex-wrap: wrap;\n  -webkit-justify-content: space-around;\n          justify-content: space-around;\n}\n.panel-wrap .panel-content .panel[data-v-ef1b19c2] {\n  width: 44%;\n  margin-bottom: 0.53333rem;\n}\n.panel-wrap .panel-content .panel .picBox[data-v-ef1b19c2] {\n  color: #fff;\n  position: relative;\n}\n.panel-wrap .panel-content .panel .picBox > .playCount[data-v-ef1b19c2] {\n  position: absolute;\n  left: 0.13333rem;\n  bottom: 0.26667rem;\n  top: auto;\n  right: auto;\n}\n.panel-wrap .panel-content .panel .picBox > .createTime[data-v-ef1b19c2] {\n  position: absolute;\n  left: auto;\n  bottom: 0.26667rem;\n  top: auto;\n  right: 0.13333rem;\n}\n.panel-wrap .panel-content .panel .layPic[data-v-ef1b19c2] {\n  width: 100%;\n}\n.panel-wrap .panel-content .panel .name[data-v-ef1b19c2] {\n  margin: 0.26667rem 0;\n}\n',"",{version:3,sources:["I:/vue-music/src/pages/categoryDetail/index.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,QAAQ;EACR,SAAS;EACT,UAAU;EACV,OAAO;CACR;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,0BAA0B;EAC1B,4BAA4B;UACpB,oBAAoB;CAC7B;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,sCAAsC;UAC9B,8BAA8B;CACvC;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,0BAA0B;EAC1B,uCAAuC;UAC/B,+BAA+B;CACxC;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,yBAAyB;EACzB,gCAAgC;UACxB,wBAAwB;CACjC;AACD;EACE,0BAA0B;EAC1B,4BAA4B;UACpB,oBAAoB;EAC5B,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,yBAAyB;EACzB,gCAAgC;UACxB,wBAAwB;CACjC;AACD;EACE,aAAa;CACd;AACD;EACE,gBAAgB;EAChB,OAAO;CACR;AACD;EACE,gBAAgB;EAChB,SAAS;CACV;AACD;EACE,gBAAgB;EAChB,SAAS;CACV;AACD;EACE,6BAA6B;EAC7B,qBAAqB;CACtB;AACD;EACE,SAAS;CACV;AACD;EACE,OAAO;EACP,QAAQ;EACR,SAAS;EACT,UAAU;EACV,iBAAiB;EACjB,eAAe;EACf,wBAAwB;CACzB;AACD;EACE,gBAAgB;EAChB,OAAO;EACP,YAAY;EACZ,YAAY;CACb;AACD;EACE,mBAAmB;CACpB;AACD;EACE,yBAAyB;CAC1B;AACD;EACE,WAAW;CACZ;AACD;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,wBAAwB;UAChB,gBAAgB;EACxB,sCAAsC;UAC9B,8BAA8B;CACvC;AACD;EACE,WAAW;EACX,0BAA0B;CAC3B;AACD;EACE,YAAY;EACZ,mBAAmB;CACpB;AACD;EACE,mBAAmB;EACnB,iBAAiB;EACjB,mBAAmB;EACnB,UAAU;EACV,YAAY;CACb;AACD;EACE,mBAAmB;EACnB,WAAW;EACX,mBAAmB;EACnB,UAAU;EACV,kBAAkB;CACnB;AACD;EACE,YAAY;CACb;AACD;EACE,qBAAqB;CACtB",file:"index.vue",sourcesContent:['\n.fullBox[data-v-ef1b19c2] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n}\n.flexYCenter[data-v-ef1b19c2] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.flexAround[data-v-ef1b19c2] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-justify-content: space-around;\n          justify-content: space-around;\n}\n.flexBetween[data-v-ef1b19c2] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n          justify-content: space-between;\n}\n.flexXCenter[data-v-ef1b19c2] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.flexCenter[data-v-ef1b19c2] {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.mint-msgbox[data-v-ef1b19c2] {\n  z-index: 300;\n}\n.mint-msgbox-btns button[data-v-ef1b19c2] {\n  font-size: 12Px;\n  /* no*/\n}\n[data-dpr="2"] .mint-msgbox-btns button[data-v-ef1b19c2] {\n  font-size: 24Px;\n  /* no  */\n}\n[data-dpr="3"] .mint-msgbox-btns button[data-v-ef1b19c2] {\n  font-size: 36Px;\n  /* no  */\n}\n.v-move[data-v-ef1b19c2] {\n  -webkit-transition: all 0.5s;\n  transition: all 0.5s;\n}\n.my-loading[data-v-ef1b19c2] {\n  top: 50%;\n}\n.categoryDetail-page[data-v-ef1b19c2] {\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: pink;\n  overflow: auto;\n  padding-top: 1.33333rem;\n}\n.header-navbar[data-v-ef1b19c2] {\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 10;\n}\n.sort-wrap[data-v-ef1b19c2] {\n  margin: 0.53333rem;\n}\n.sort-wrap .sort-item[data-v-ef1b19c2] {\n  margin-right: 0.37333rem;\n}\n.sort-wrap .sort-item.current[data-v-ef1b19c2] {\n  color: red;\n}\n.panel-wrap .panel-content[data-v-ef1b19c2] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n          flex-wrap: wrap;\n  -webkit-justify-content: space-around;\n          justify-content: space-around;\n}\n.panel-wrap .panel-content .panel[data-v-ef1b19c2] {\n  width: 44%;\n  margin-bottom: 0.53333rem;\n}\n.panel-wrap .panel-content .panel .picBox[data-v-ef1b19c2] {\n  color: #fff;\n  position: relative;\n}\n.panel-wrap .panel-content .panel .picBox > .playCount[data-v-ef1b19c2] {\n  position: absolute;\n  left: 0.13333rem;\n  bottom: 0.26667rem;\n  top: auto;\n  right: auto;\n}\n.panel-wrap .panel-content .panel .picBox > .createTime[data-v-ef1b19c2] {\n  position: absolute;\n  left: auto;\n  bottom: 0.26667rem;\n  top: auto;\n  right: 0.13333rem;\n}\n.panel-wrap .panel-content .panel .layPic[data-v-ef1b19c2] {\n  width: 100%;\n}\n.panel-wrap .panel-content .panel .name[data-v-ef1b19c2] {\n  margin: 0.26667rem 0;\n}\n'],sourceRoot:""}])},aGuU:function(n,t,e){var a=e("6ivQ");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("e07f910a",a,!0,{})}});
//# sourceMappingURL=6.CategoryDetail.js.map